import{d as C,w as m,e as x}from"./runtime-dom.esm-bundler.aa3cc456.js";import{d as H,r as d,a0 as M,c as j,o as F,l as v,e as p,f as e,a7 as T,a1 as h,F as J,a6 as O,j as k,u as y,k as I,a2 as U,a3 as L}from"./runtime-core.esm-bundler.caa95594.js";/* empty css                       */import{_ as q}from"./_plugin-vue_export-helper.c27b6911.js";const S=_=>(U("data-v-520049b1"),_=_(),L(),_),G={class:"container"},P={class:"input-group bg-white box-shadow rounded-1 overflow-hidden mb-3"},Q=["onKeyup"],R=S(()=>e("i",{class:"fas fa-plus"},null,-1)),W=[R],X={class:"bg-white box-shadow rounded-1 overflow-hidden mb-3"},Y={class:"btn-group"},Z={class:"list-frame vh-50"},ee={class:"list-group"},te=["onKeyup"],oe={key:1,class:"input-group"},ne=["id","onClick","checked"],se=["for","textContent","onDblclick"],le=["onClick"],ae=S(()=>e("i",{class:"fas fa-times"},null,-1)),ie=[ae],de={class:"d-flex justify-content-between mb-2"},ce={class:"d-flex align-items-center"},ue=["checked"],re={class:"text-dark-gray"},ve=["textContent"],pe=["textContent"],_e=H({__name:"TodoApp",setup(_){const c=d("");let o=M([]);const g=d(0),b=d(0),i=d(""),u=d(""),a=d("all"),f=d(!1),D=j(()=>{switch(a.value){case"undone":return o.filter(n=>!n.done);case"done":return o.filter(n=>n.done);default:return o}}),$=()=>{localStorage.getItem("todo_list_history")&&(o=JSON.parse(localStorage.getItem("todo_list_history")))},r=()=>{const n=JSON.stringify(o);localStorage.setItem("todo_list_history",n)},w=()=>{if(!c.value.trim()){alert("请输入待办事项");return}o=[{id:Date.now(),name:c.value,done:!1},...o],c.value="",r()},A=n=>{if(window.confirm("确认删除？")){const s=o.findIndex(t=>t.id===n);o.splice(s,1)}},K=(n,s)=>{const t=o.findIndex(l=>l.id===n);o[t].done=!s,r()},N=(n,s)=>{i.value=s,u.value=n},V=n=>{if(i.value.trim()){alert("编辑事项不能为空");return}const s=o.findIndex(t=>t.id===u.value);o[s].name=i.value,i.value="",u.value="",r()},z=()=>{i.value="",u.value=""},B=()=>{f.value=!f.value,o=o.map(n=>({...n,done:f.value})),r()},E=()=>{window.confirm("确定删除已完成任务？")&&(o=o.filter(n=>!n.done),a.value="all"),r()};return F(()=>{$()}),(n,s)=>(v(),p("div",G,[e("div",P,[T(e("input",{type:"text",class:"form-control flex-fill",onKeyup:m(w,["enter"]),"onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),placeholder:"新增待办"},null,40,Q),[[C,c.value]]),e("button",{type:"button",class:"btn btn-size-lg btn-dark rounded-1 m-1",onClick:w},W)]),e("div",X,[e("ul",Y,[e("li",{class:h(["col",a.value==="all"?"active":""])},[e("button",{class:"btn",onClick:s[1]||(s[1]=x(t=>a.value="all",["prevent"]))},"全部")],2),e("li",{class:h(["col",a.value==="undone"?"active":""])},[e("button",{class:"btn",onClick:s[2]||(s[2]=x(t=>a.value="undone",["prevent"]))},"待完成")],2),e("li",{class:h(["col",a.value==="done"?"active":""])},[e("button",{class:"btn",onClick:s[3]||(s[3]=x(t=>a.value="done",["prevent"]))},"已完成")],2)]),e("div",Z,[e("ul",ee,[e("div",null,[(v(!0),p(J,null,O(y(D),t=>(v(),p("li",{key:t.id,class:"input-group"},[u.value===t.id?T((v(),p("input",{key:0,onKeyup:[m(l=>V(),["enter"]),m(z,["esc"])],"onUpdate:modelValue":s[4]||(s[4]=l=>i.value=l),class:"form-edit flex-fill",type:"text"},null,40,te)),[[C,i.value]]):(v(),p("div",oe,[e("input",{type:"checkbox",id:t.id,onClick:l=>K(t.id,t.done),checked:t.done,class:"form-check m-4"},null,8,ne),e("label",{for:t.id,textContent:k(t.name),onDblclick:l=>N(t.id,t.name),class:h([t.done?"del":"","flex-fill lh-1 py-4 ms-1"])},null,42,se)])),e("button",{type:"button",onClick:l=>A(t.id),class:"btn btn-size-base list-btn-warning m-3","aria-label":"Close"},ie,8,le)]))),128))])])]),e("div",de,[e("div",ce,[e("input",{type:"checkbox",onClick:B,checked:f.value=g.value===b.value&&b.value!==0,class:"form-check m-4"},null,8,ue),e("h3",re,[I(" 已完成 "),e("span",{textContent:k(g.value=y(o).reduce((t,l)=>t+(l.done?1:0),0))},null,8,ve),I(" / 全部 "),e("span",{textContent:k(b.value=y(o).length)},null,8,pe)])]),e("button",{type:"button",onClick:E,class:"btn btn-text-warning m-4 me-8"}," 清除已完成項目 ")])])]))}}),xe=q(_e,[["__scopeId","data-v-520049b1"]]);export{xe as default};
